# Aderyn Analysis Report

This report was generated by [Aderyn](https://github.com/Cyfrin/aderyn), a static analysis tool built by [Cyfrin](https://cyfrin.io), a blockchain security company. This report is not a substitute for manual audit or security review. It should not be relied upon for any purpose other than to assist in the identification of potential security vulnerabilities.
# Table of Contents

- [Summary](#summary)
  - [Files Summary](#files-summary)
  - [Files Details](#files-details)
  - [Issue Summary](#issue-summary)
- [High Issues](#high-issues)
  - [H-1: `abi.encodePacked()` Hash Collision](#h-1-abiencodepacked-hash-collision)
  - [H-2: Reentrancy: State change after external call](#h-2-reentrancy-state-change-after-external-call)
- [Low Issues](#low-issues)
  - [L-1: Centralization Risk](#l-1-centralization-risk)
  - [L-2: Unsafe ERC20 Operation](#l-2-unsafe-erc20-operation)
  - [L-3: Address State Variable Set Without Checks](#l-3-address-state-variable-set-without-checks)
  - [L-4: Literal Instead of Constant](#l-4-literal-instead-of-constant)
  - [L-5: Modifier Invoked Only Once](#l-5-modifier-invoked-only-once)
  - [L-6: Large Numeric Literal](#l-6-large-numeric-literal)
  - [L-7: Internal Function Used Only Once](#l-7-internal-function-used-only-once)
  - [L-8: Unused Error](#l-8-unused-error)
  - [L-9: Loop Contains `require`/`revert`](#l-9-loop-contains-requirerevert)
  - [L-10: Uninitialized Local Variable](#l-10-uninitialized-local-variable)
  - [L-11: Storage Array Length not Cached](#l-11-storage-array-length-not-cached)
  - [L-12: Costly operations inside loop](#l-12-costly-operations-inside-loop)
  - [L-13: Unused Import](#l-13-unused-import)
  - [L-14: State Change Without Event](#l-14-state-change-without-event)


# Summary

## Files Summary

| Key | Value |
| --- | --- |
| .sol Files | 37 |
| Total nSLOC | 2685 |


## Files Details

| Filepath | nSLOC |
| --- | --- |
| src/LevrDeployer_v1.sol | 58 |
| src/LevrFactory_v1.sol | 335 |
| src/LevrFeeSplitterFactory_v1.sol | 57 |
| src/LevrFeeSplitter_v1.sol | 168 |
| src/LevrForwarder_v1.sol | 86 |
| src/LevrGovernor_v1.sol | 378 |
| src/LevrStakedToken_v1.sol | 40 |
| src/LevrStaking_v1.sol | 465 |
| src/LevrTreasury_v1.sol | 60 |
| src/base/ERC2771ContextBase.sol | 15 |
| src/interfaces/ILevrDeployer_v1.sol | 15 |
| src/interfaces/ILevrFactory_v1.sol | 100 |
| src/interfaces/ILevrFeeSplitterFactory_v1.sol | 17 |
| src/interfaces/ILevrFeeSplitter_v1.sol | 46 |
| src/interfaces/ILevrForwarder_v1.sol | 33 |
| src/interfaces/ILevrGovernor_v1.sol | 107 |
| src/interfaces/ILevrStakedToken_v1.sol | 11 |
| src/interfaces/ILevrStaking_v1.sol | 92 |
| src/interfaces/ILevrTreasury_v1.sol | 16 |
| src/interfaces/external/IClanker.sol | 105 |
| src/interfaces/external/IClankerAirdrop.sol | 53 |
| src/interfaces/external/IClankerExtension.sol | 14 |
| src/interfaces/external/IClankerFeeLocker.sol | 26 |
| src/interfaces/external/IClankerHook.sol | 51 |
| src/interfaces/external/IClankerHookDynamicFee.sol | 37 |
| src/interfaces/external/IClankerHookStaticFee.sol | 13 |
| src/interfaces/external/IClankerHookV2.sol | 32 |
| src/interfaces/external/IClankerHookV2PoolExtension.sol | 26 |
| src/interfaces/external/IClankerLPLocker.sol | 45 |
| src/interfaces/external/IClankerLpLockerFeeConversion.sol | 29 |
| src/interfaces/external/IClankerLpLockerMultiple.sol | 40 |
| src/interfaces/external/IClankerMevModule.sol | 16 |
| src/interfaces/external/IClankerPoolExtensionAllowlist.sol | 9 |
| src/interfaces/external/IClankerToken.sol | 25 |
| src/interfaces/external/IClankerUniv4EthDevBuy.sol | 19 |
| src/interfaces/external/IOwnerAdmins.sol | 6 |
| src/libraries/RewardMath.sol | 40 |
| **Total** | **2685** |


## Issue Summary

| Category | No. of Issues |
| --- | --- |
| High | 2 |
| Low | 14 |


# High Issues

## H-1: `abi.encodePacked()` Hash Collision

abi.encodePacked() should not be used with dynamic types when passing the result to a hash function such as `keccak256()`. Use `abi.encode()` instead which will pad items to 32 bytes, preventing hash collisions: https://docs.soliditylang.org/en/v0.8.13/abi-spec.html#non-standard-packed-mode. (e.g. `abi.encodePacked(0x123,0x456)` => `0x123456` => `abi.encodePacked(0x1,0x23456)`, but `abi.encode(0x123,0x456)` => `0x0...1230...456`). Unless there is a compelling reason, `abi.encode` should be preferred. If there is only one argument to `abi.encodePacked()` it can often be cast to `bytes()` or `bytes32()` instead: https://ethereum.stackexchange.com/questions/30912/how-to-compare-strings-in-solidity#answer-82739. If all arguments are strings and or bytes, `bytes.concat()` should be used instead.

<details><summary>3 Found Instances</summary>


- Found in src/LevrDeployer_v1.sol [Line: 40](src/LevrDeployer_v1.sol#L40)

	```solidity
	                string(abi.encodePacked('Levr Staked ', token.name())),
	```

- Found in src/LevrDeployer_v1.sol [Line: 41](src/LevrDeployer_v1.sol#L41)

	```solidity
	                string(abi.encodePacked('s', token.symbol())),
	```

- Found in src/LevrFeeSplitterFactory_v1.sol [Line: 89](src/LevrFeeSplitterFactory_v1.sol#L89)

	```solidity
	            abi.encodePacked(
	```

</details>



## H-2: Reentrancy: State change after external call

Changing state after an external call can lead to re-entrancy attacks.Use the checks-effects-interactions pattern to avoid this issue.

<details><summary>14 Found Instances</summary>


- Found in src/LevrFactory_v1.sol [Line: 88](src/LevrFactory_v1.sol#L88)

	State is changed at: `delete _preparedContracts[caller]`, `_projects[clankerToken] = project`, `_projectTokens.push(clankerToken)`
	```solidity
	        if (IClankerToken(clankerToken).admin() != caller) revert UnauthorizedCaller();
	```

- Found in src/LevrFactory_v1.sol [Line: 106](src/LevrFactory_v1.sol#L106)

	State is changed at: `delete _preparedContracts[caller]`, `_projects[clankerToken] = project`, `_projectTokens.push(clankerToken)`
	```solidity
	            try IClanker(factory).tokenDeploymentInfo(clankerToken) returns (
	```

- Found in src/LevrFeeSplitter_v1.sol [Line: 103](src/LevrFeeSplitter_v1.sol#L103)

	State is changed at: `_distributionState[rewardToken].totalDistributed += balance`, `_distributionState[rewardToken].lastDistribution = block.timestamp`
	```solidity
	        uint256 balance = IERC20(rewardToken).balanceOf(address(this));
	```

- Found in src/LevrFeeSplitter_v1.sol [Line: 110](src/LevrFeeSplitter_v1.sol#L110)

	State is changed at: `_distributionState[rewardToken].totalDistributed += balance`, `_distributionState[rewardToken].lastDistribution = block.timestamp`
	```solidity
	        if (!ILevrStaking_v1(staking).isTokenWhitelisted(rewardToken)) revert ILevrFactory_v1.TokenNotTrusted();
	```

- Found in src/LevrGovernor_v1.sol [Line: 111](src/LevrGovernor_v1.sol#L111)

	State is changed at: `proposal.totalBalanceVoted += voterBalance`, `_voteReceipts[proposalId][voter] = VoteReceipt({
            hasVoted: true,
            support: support,
            votes: votes
        })`, `proposal.yesVotes += votes`, `proposal.noVotes += votes`
	```solidity
	        uint256 votes = ILevrStaking_v1(staking).getVotingPower(voter);
	```

- Found in src/LevrGovernor_v1.sol [Line: 114](src/LevrGovernor_v1.sol#L114)

	State is changed at: `proposal.totalBalanceVoted += voterBalance`, `_voteReceipts[proposalId][voter] = VoteReceipt({
            hasVoted: true,
            support: support,
            votes: votes
        })`, `proposal.yesVotes += votes`, `proposal.noVotes += votes`
	```solidity
	        uint256 voterBalance = IERC20(stakedToken).balanceOf(voter);
	```

- Found in src/LevrGovernor_v1.sol [Line: 175](src/LevrGovernor_v1.sol#L175)

	State is changed at: `cycle.executed = true`, `proposal.executed = true`, `proposal.executed = true`
	```solidity
	        uint256 treasuryBalance = IERC20(proposal.token).balanceOf(treasury);
	```

- Found in src/LevrStaking_v1.sol [Line: 135](src/LevrStaking_v1.sol#L135)

	State is changed at: `stakeStartTime[staker] = _onStakeNewTimestamp(actualReceived)`, `_escrowBalance[underlying] += actualReceived`, `_totalStaked += actualReceived`
	```solidity
	        uint256 balanceBefore = IERC20(underlying).balanceOf(address(this));
	```

- Found in src/LevrStaking_v1.sol [Line: 137](src/LevrStaking_v1.sol#L137)

	State is changed at: `stakeStartTime[staker] = _onStakeNewTimestamp(actualReceived)`, `_escrowBalance[underlying] += actualReceived`, `_totalStaked += actualReceived`
	```solidity
	        uint256 actualReceived = IERC20(underlying).balanceOf(address(this)) - balanceBefore;
	```

- Found in src/LevrStaking_v1.sol [Line: 158](src/LevrStaking_v1.sol#L158)

	State is changed at: `_totalStaked -= amount`, `_escrowBalance[underlying] = esc - amount`, `stakeStartTime[staker] = _onUnstakeNewTimestamp(amount)`
	```solidity
	        uint256 bal = ILevrStakedToken_v1(stakedToken).balanceOf(staker);
	```

- Found in src/LevrStaking_v1.sol [Line: 165](src/LevrStaking_v1.sol#L165)

	State is changed at: `_totalStaked -= amount`, `_escrowBalance[underlying] = esc - amount`, `stakeStartTime[staker] = _onUnstakeNewTimestamp(amount)`
	```solidity
	        ILevrStakedToken_v1(stakedToken).burn(staker, amount);
	```

- Found in src/LevrStaking_v1.sol [Line: 190](src/LevrStaking_v1.sol#L190)

	State is changed at: `tokenState.availablePool -= claimable`
	```solidity
	        uint256 userBalance = ILevrStakedToken_v1(stakedToken).balanceOf(claimer);
	```

- Found in src/LevrStaking_v1.sol [Line: 235](src/LevrStaking_v1.sol#L235)

	State is changed at: `tokenState.whitelisted = true`, `tokenState.exists = true`, `tokenState.availablePool = 0`, `tokenState.streamTotal = 0`, `tokenState.lastUpdate = 0`, `tokenState.streamStart = 0`, `tokenState.streamEnd = 0`, `_rewardTokens.push(token)`
	```solidity
	        address tokenAdmin = IClankerToken(underlying).admin();
	```

- Found in src/LevrStaking_v1.sol [Line: 273](src/LevrStaking_v1.sol#L273)

	State is changed at: `tokenState.whitelisted = false`
	```solidity
	        address tokenAdmin = IClankerToken(underlying).admin();
	```

</details>



# Low Issues

## L-1: Centralization Risk

Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

<details><summary>7 Found Instances</summary>


- Found in src/LevrFactory_v1.sol [Line: 17](src/LevrFactory_v1.sol#L17)

	```solidity
	contract LevrFactory_v1 is ILevrFactory_v1, Ownable, ReentrancyGuard, ERC2771Context {
	```

- Found in src/LevrFactory_v1.sol [Line: 150](src/LevrFactory_v1.sol#L150)

	```solidity
	    function updateConfig(FactoryConfig calldata cfg) external override onlyOwner {
	```

- Found in src/LevrFactory_v1.sol [Line: 156](src/LevrFactory_v1.sol#L156)

	```solidity
	    function verifyProject(address clankerToken) external override onlyOwner {
	```

- Found in src/LevrFactory_v1.sol [Line: 168](src/LevrFactory_v1.sol#L168)

	```solidity
	    function unverifyProject(address clankerToken) external override onlyOwner {
	```

- Found in src/LevrFactory_v1.sol [Line: 212](src/LevrFactory_v1.sol#L212)

	```solidity
	    function addTrustedClankerFactory(address factory) external override onlyOwner {
	```

- Found in src/LevrFactory_v1.sol [Line: 223](src/LevrFactory_v1.sol#L223)

	```solidity
	    function removeTrustedClankerFactory(address factory) external override onlyOwner {
	```

- Found in src/LevrFactory_v1.sol [Line: 252](src/LevrFactory_v1.sol#L252)

	```solidity
	    function updateInitialWhitelist(address[] calldata tokens) external override onlyOwner {
	```

</details>



## L-2: Unsafe ERC20 Operation

ERC20 functions may not behave as expected. For example: return values are not always meaningful. It is recommended to use OpenZeppelin's SafeERC20 library.

<details><summary>1 Found Instances</summary>


- Found in src/LevrGovernor_v1.sol [Line: 234](src/LevrGovernor_v1.sol#L234)

	```solidity
	            ILevrTreasury_v1(treasury).transfer(token, recipient, amount);
	```

</details>



## L-3: Address State Variable Set Without Checks

Check for `address(0)` when assigning values to address state variables.

<details><summary>1 Found Instances</summary>


- Found in src/LevrFactory_v1.sol [Line: 403](src/LevrFactory_v1.sol#L403)

	```solidity
	            _protocolTreasury = cfg.protocolTreasury;
	```

</details>



## L-4: Literal Instead of Constant

Define and use `constant` variables instead of using literals. If the same constant literal value is used multiple times, create a constant state variable and reference it throughout the contract.

<details><summary>11 Found Instances</summary>


- Found in src/LevrFactory_v1.sol [Line: 422](src/LevrFactory_v1.sol#L422)

	```solidity
	            cfg.quorumBps > 10000 ||
	```

- Found in src/LevrFactory_v1.sol [Line: 423](src/LevrFactory_v1.sol#L423)

	```solidity
	            cfg.approvalBps > 10000 ||
	```

- Found in src/LevrFactory_v1.sol [Line: 424](src/LevrFactory_v1.sol#L424)

	```solidity
	            cfg.minSTokenBpsToSubmit > 10000 ||
	```

- Found in src/LevrFactory_v1.sol [Line: 425](src/LevrFactory_v1.sol#L425)

	```solidity
	            cfg.maxProposalAmountBps > 10000 ||
	```

- Found in src/LevrFactory_v1.sol [Line: 426](src/LevrFactory_v1.sol#L426)

	```solidity
	            cfg.minimumQuorumBps > 10000
	```

- Found in src/LevrFactory_v1.sol [Line: 429](src/LevrFactory_v1.sol#L429)

	```solidity
	        if (validateProtocolFee && cfg.protocolFeeBps > 10000) revert InvalidConfig();
	```

- Found in src/LevrGovernor_v1.sol [Line: 331](src/LevrGovernor_v1.sol#L331)

	```solidity
	                    IERC20(stakedToken).balanceOf(proposer) < (totalSupply * minStakeBps) / 10_000
	```

- Found in src/LevrGovernor_v1.sol [Line: 345](src/LevrGovernor_v1.sol#L345)

	```solidity
	            if (maxProposalBps > 0 && amount > (treasuryBalance * maxProposalBps) / 10_000) {
	```

- Found in src/LevrGovernor_v1.sol [Line: 436](src/LevrGovernor_v1.sol#L436)

	```solidity
	        uint256 percentageQuorum = (effectiveSupply * quorumBps) / 10_000;
	```

- Found in src/LevrGovernor_v1.sol [Line: 440](src/LevrGovernor_v1.sol#L440)

	```solidity
	        uint256 minimumAbsoluteQuorum = (snapshotSupply * minimumQuorumBps) / 10_000;
	```

- Found in src/LevrGovernor_v1.sol [Line: 459](src/LevrGovernor_v1.sol#L459)

	```solidity
	        uint256 requiredApproval = (totalVotes * approvalBps) / 10_000;
	```

</details>



## L-5: Modifier Invoked Only Once

Consider removing the modifier or inlining the logic into the calling function.

<details><summary>1 Found Instances</summary>


- Found in src/LevrDeployer_v1.sol [Line: 15](src/LevrDeployer_v1.sol#L15)

	```solidity
	    modifier onlyAuthorized() {
	```

</details>



## L-6: Large Numeric Literal

Large literal values multiples of 10000 can be replaced with scientific notation.Use `e` notation, for example: `1e18`, instead of its full numeric value.

<details><summary>14 Found Instances</summary>


- Found in src/LevrFactory_v1.sol [Line: 422](src/LevrFactory_v1.sol#L422)

	```solidity
	            cfg.quorumBps > 10000 ||
	```

- Found in src/LevrFactory_v1.sol [Line: 423](src/LevrFactory_v1.sol#L423)

	```solidity
	            cfg.approvalBps > 10000 ||
	```

- Found in src/LevrFactory_v1.sol [Line: 424](src/LevrFactory_v1.sol#L424)

	```solidity
	            cfg.minSTokenBpsToSubmit > 10000 ||
	```

- Found in src/LevrFactory_v1.sol [Line: 425](src/LevrFactory_v1.sol#L425)

	```solidity
	            cfg.maxProposalAmountBps > 10000 ||
	```

- Found in src/LevrFactory_v1.sol [Line: 426](src/LevrFactory_v1.sol#L426)

	```solidity
	            cfg.minimumQuorumBps > 10000
	```

- Found in src/LevrFactory_v1.sol [Line: 429](src/LevrFactory_v1.sol#L429)

	```solidity
	        if (validateProtocolFee && cfg.protocolFeeBps > 10000) revert InvalidConfig();
	```

- Found in src/LevrFeeSplitter_v1.sol [Line: 25](src/LevrFeeSplitter_v1.sol#L25)

	```solidity
	    uint256 private constant BPS_DENOMINATOR = 10_000; // 100% = 10,000 bps
	```

- Found in src/LevrGovernor_v1.sol [Line: 331](src/LevrGovernor_v1.sol#L331)

	```solidity
	                    IERC20(stakedToken).balanceOf(proposer) < (totalSupply * minStakeBps) / 10_000
	```

- Found in src/LevrGovernor_v1.sol [Line: 345](src/LevrGovernor_v1.sol#L345)

	```solidity
	            if (maxProposalBps > 0 && amount > (treasuryBalance * maxProposalBps) / 10_000) {
	```

- Found in src/LevrGovernor_v1.sol [Line: 436](src/LevrGovernor_v1.sol#L436)

	```solidity
	        uint256 percentageQuorum = (effectiveSupply * quorumBps) / 10_000;
	```

- Found in src/LevrGovernor_v1.sol [Line: 440](src/LevrGovernor_v1.sol#L440)

	```solidity
	        uint256 minimumAbsoluteQuorum = (snapshotSupply * minimumQuorumBps) / 10_000;
	```

- Found in src/LevrGovernor_v1.sol [Line: 459](src/LevrGovernor_v1.sol#L459)

	```solidity
	        uint256 requiredApproval = (totalVotes * approvalBps) / 10_000;
	```

- Found in src/LevrGovernor_v1.sol [Line: 476](src/LevrGovernor_v1.sol#L476)

	```solidity
	                uint256 approvalRatio = (proposal.yesVotes * 10000) / totalVotes;
	```

- Found in src/LevrStaking_v1.sol [Line: 27](src/LevrStaking_v1.sol#L27)

	```solidity
	    uint256 public constant BASIS_POINTS = 10_000;
	```

</details>



## L-7: Internal Function Used Only Once

Instead of separating the logic into a separate function, consider inlining the logic into the calling function. This can reduce the number of function calls and improve readability.

<details><summary>1 Found Instances</summary>


- Found in src/libraries/RewardMath.sol [Line: 16](src/libraries/RewardMath.sol#L16)

	```solidity
	    function calculateVestedAmount(
	```

</details>



## L-8: Unused Error

Consider using or removing the unused error.

<details><summary>74 Found Instances</summary>


- Found in src/interfaces/ILevrStaking_v1.sol [Line: 44](src/interfaces/ILevrStaking_v1.sol#L44)

	```solidity
	    error InsufficientRewardLiquidity();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 68](src/interfaces/external/IClanker.sol#L68)

	```solidity
	    error Deprecated();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 70](src/interfaces/external/IClanker.sol#L70)

	```solidity
	    error NotFound();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 73](src/interfaces/external/IClanker.sol#L73)

	```solidity
	    error OnlyOriginatingChain();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 75](src/interfaces/external/IClanker.sol#L75)

	```solidity
	    error OnlyNonOriginatingChains();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 78](src/interfaces/external/IClanker.sol#L78)

	```solidity
	    error InvalidHook();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 80](src/interfaces/external/IClanker.sol#L80)

	```solidity
	    error InvalidLocker();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 82](src/interfaces/external/IClanker.sol#L82)

	```solidity
	    error InvalidExtension();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 85](src/interfaces/external/IClanker.sol#L85)

	```solidity
	    error HookNotEnabled();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 87](src/interfaces/external/IClanker.sol#L87)

	```solidity
	    error LockerNotEnabled();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 89](src/interfaces/external/IClanker.sol#L89)

	```solidity
	    error ExtensionNotEnabled();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 91](src/interfaces/external/IClanker.sol#L91)

	```solidity
	    error MevModuleNotEnabled();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 94](src/interfaces/external/IClanker.sol#L94)

	```solidity
	    error ExtensionMsgValueMismatch();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 96](src/interfaces/external/IClanker.sol#L96)

	```solidity
	    error MaxExtensionsExceeded();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 98](src/interfaces/external/IClanker.sol#L98)

	```solidity
	    error MaxExtensionBpsExceeded();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 101](src/interfaces/external/IClanker.sol#L101)

	```solidity
	    error InvalidMevModule();
	```

- Found in src/interfaces/external/IClanker.sol [Line: 103](src/interfaces/external/IClanker.sol#L103)

	```solidity
	    error TeamFeeRecipientNotSet();
	```

- Found in src/interfaces/external/IClankerAirdrop.sol [Line: 22](src/interfaces/external/IClankerAirdrop.sol#L22)

	```solidity
	    error InvalidMerkleRoot();
	```

- Found in src/interfaces/external/IClankerAirdrop.sol [Line: 23](src/interfaces/external/IClankerAirdrop.sol#L23)

	```solidity
	    error InvalidAirdropPercentage();
	```

- Found in src/interfaces/external/IClankerAirdrop.sol [Line: 24](src/interfaces/external/IClankerAirdrop.sol#L24)

	```solidity
	    error Unauthorized();
	```

- Found in src/interfaces/external/IClankerAirdrop.sol [Line: 25](src/interfaces/external/IClankerAirdrop.sol#L25)

	```solidity
	    error InvalidProof();
	```

- Found in src/interfaces/external/IClankerAirdrop.sol [Line: 26](src/interfaces/external/IClankerAirdrop.sol#L26)

	```solidity
	    error TotalMaxClaimed();
	```

- Found in src/interfaces/external/IClankerAirdrop.sol [Line: 27](src/interfaces/external/IClankerAirdrop.sol#L27)

	```solidity
	    error UserMaxClaimed();
	```

- Found in src/interfaces/external/IClankerAirdrop.sol [Line: 28](src/interfaces/external/IClankerAirdrop.sol#L28)

	```solidity
	    error ZeroClaim();
	```

- Found in src/interfaces/external/IClankerAirdrop.sol [Line: 29](src/interfaces/external/IClankerAirdrop.sol#L29)

	```solidity
	    error ZeroToClaim();
	```

- Found in src/interfaces/external/IClankerAirdrop.sol [Line: 30](src/interfaces/external/IClankerAirdrop.sol#L30)

	```solidity
	    error AirdropNotUnlocked();
	```

- Found in src/interfaces/external/IClankerAirdrop.sol [Line: 31](src/interfaces/external/IClankerAirdrop.sol#L31)

	```solidity
	    error AirdropAlreadyExists();
	```

- Found in src/interfaces/external/IClankerAirdrop.sol [Line: 32](src/interfaces/external/IClankerAirdrop.sol#L32)

	```solidity
	    error AirdropLockupDurationTooShort();
	```

- Found in src/interfaces/external/IClankerAirdrop.sol [Line: 33](src/interfaces/external/IClankerAirdrop.sol#L33)

	```solidity
	    error AirdropNotCreated();
	```

- Found in src/interfaces/external/IClankerExtension.sol [Line: 11](src/interfaces/external/IClankerExtension.sol#L11)

	```solidity
	    error InvalidMsgValue();
	```

- Found in src/interfaces/external/IClankerFeeLocker.sol [Line: 7](src/interfaces/external/IClankerFeeLocker.sol#L7)

	```solidity
	    error NoFeesToClaim();
	```

- Found in src/interfaces/external/IClankerFeeLocker.sol [Line: 8](src/interfaces/external/IClankerFeeLocker.sol#L8)

	```solidity
	    error Unauthorized();
	```

- Found in src/interfaces/external/IClankerHook.sol [Line: 10](src/interfaces/external/IClankerHook.sol#L10)

	```solidity
	    error ETHPoolNotAllowed();
	```

- Found in src/interfaces/external/IClankerHook.sol [Line: 11](src/interfaces/external/IClankerHook.sol#L11)

	```solidity
	    error OnlyFactory();
	```

- Found in src/interfaces/external/IClankerHook.sol [Line: 12](src/interfaces/external/IClankerHook.sol#L12)

	```solidity
	    error UnsupportedInitializePath();
	```

- Found in src/interfaces/external/IClankerHook.sol [Line: 13](src/interfaces/external/IClankerHook.sol#L13)

	```solidity
	    error PastCreationTimestamp();
	```

- Found in src/interfaces/external/IClankerHook.sol [Line: 14](src/interfaces/external/IClankerHook.sol#L14)

	```solidity
	    error MevModuleEnabled();
	```

- Found in src/interfaces/external/IClankerHook.sol [Line: 15](src/interfaces/external/IClankerHook.sol#L15)

	```solidity
	    error WethCannotBeClanker();
	```

- Found in src/interfaces/external/IClankerHookDynamicFee.sol [Line: 7](src/interfaces/external/IClankerHookDynamicFee.sol#L7)

	```solidity
	    error BaseFeeTooLow();
	```

- Found in src/interfaces/external/IClankerHookDynamicFee.sol [Line: 8](src/interfaces/external/IClankerHookDynamicFee.sol#L8)

	```solidity
	    error MaxLpFeeTooHigh();
	```

- Found in src/interfaces/external/IClankerHookDynamicFee.sol [Line: 9](src/interfaces/external/IClankerHookDynamicFee.sol#L9)

	```solidity
	    error BaseFeeGreaterThanMaxLpFee();
	```

- Found in src/interfaces/external/IClankerHookStaticFee.sol [Line: 7](src/interfaces/external/IClankerHookStaticFee.sol#L7)

	```solidity
	    error ClankerFeeTooHigh();
	```

- Found in src/interfaces/external/IClankerHookStaticFee.sol [Line: 8](src/interfaces/external/IClankerHookStaticFee.sol#L8)

	```solidity
	    error PairedFeeTooHigh();
	```

- Found in src/interfaces/external/IClankerHookV2.sol [Line: 11](src/interfaces/external/IClankerHookV2.sol#L11)

	```solidity
	    error OnlyThis();
	```

- Found in src/interfaces/external/IClankerHookV2.sol [Line: 12](src/interfaces/external/IClankerHookV2.sol#L12)

	```solidity
	    error MevModuleNotOperational();
	```

- Found in src/interfaces/external/IClankerHookV2.sol [Line: 13](src/interfaces/external/IClankerHookV2.sol#L13)

	```solidity
	    error Unauthorized();
	```

- Found in src/interfaces/external/IClankerHookV2.sol [Line: 14](src/interfaces/external/IClankerHookV2.sol#L14)

	```solidity
	    error OnlyFactoryPoolsCanHaveExtensions();
	```

- Found in src/interfaces/external/IClankerHookV2.sol [Line: 15](src/interfaces/external/IClankerHookV2.sol#L15)

	```solidity
	    error PoolExtensionNotEnabled();
	```

- Found in src/interfaces/external/IClankerHookV2PoolExtension.sol [Line: 12](src/interfaces/external/IClankerHookV2PoolExtension.sol#L12)

	```solidity
	    error OnlyHook();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 8](src/interfaces/external/IClankerLpLockerMultiple.sol#L8)

	```solidity
	    error Unauthorized();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 9](src/interfaces/external/IClankerLpLockerMultiple.sol#L9)

	```solidity
	    error MismatchedRewardArrays();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 10](src/interfaces/external/IClankerLpLockerMultiple.sol#L10)

	```solidity
	    error InvalidRewardBps();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 11](src/interfaces/external/IClankerLpLockerMultiple.sol#L11)

	```solidity
	    error ZeroRewardAddress();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 12](src/interfaces/external/IClankerLpLockerMultiple.sol#L12)

	```solidity
	    error ZeroRewardAmount();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 13](src/interfaces/external/IClankerLpLockerMultiple.sol#L13)

	```solidity
	    error TooManyRewardParticipants();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 14](src/interfaces/external/IClankerLpLockerMultiple.sol#L14)

	```solidity
	    error NoRewardRecipients();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 15](src/interfaces/external/IClankerLpLockerMultiple.sol#L15)

	```solidity
	    error TokenAlreadyHasRewards();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 16](src/interfaces/external/IClankerLpLockerMultiple.sol#L16)

	```solidity
	    error TicksBackwards();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 17](src/interfaces/external/IClankerLpLockerMultiple.sol#L17)

	```solidity
	    error TicksOutOfTickBounds();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 18](src/interfaces/external/IClankerLpLockerMultiple.sol#L18)

	```solidity
	    error TicksNotMultipleOfTickSpacing();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 19](src/interfaces/external/IClankerLpLockerMultiple.sol#L19)

	```solidity
	    error TickRangeLowerThanStartingTick();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 20](src/interfaces/external/IClankerLpLockerMultiple.sol#L20)

	```solidity
	    error InvalidPositionBps();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 21](src/interfaces/external/IClankerLpLockerMultiple.sol#L21)

	```solidity
	    error MismatchedPositionInfos();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 22](src/interfaces/external/IClankerLpLockerMultiple.sol#L22)

	```solidity
	    error NoPositions();
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 23](src/interfaces/external/IClankerLpLockerMultiple.sol#L23)

	```solidity
	    error TooManyPositions();
	```

- Found in src/interfaces/external/IClankerMevModule.sol [Line: 10](src/interfaces/external/IClankerMevModule.sol#L10)

	```solidity
	    error PoolLocked();
	```

- Found in src/interfaces/external/IClankerMevModule.sol [Line: 11](src/interfaces/external/IClankerMevModule.sol#L11)

	```solidity
	    error OnlyHook();
	```

- Found in src/interfaces/external/IClankerToken.sol [Line: 9](src/interfaces/external/IClankerToken.sol#L9)

	```solidity
	  error NotAdmin();
	```

- Found in src/interfaces/external/IClankerToken.sol [Line: 10](src/interfaces/external/IClankerToken.sol#L10)

	```solidity
	  error NotOriginalAdmin();
	```

- Found in src/interfaces/external/IClankerToken.sol [Line: 11](src/interfaces/external/IClankerToken.sol#L11)

	```solidity
	  error AlreadyVerified();
	```

- Found in src/interfaces/external/IClankerUniv4EthDevBuy.sol [Line: 17](src/interfaces/external/IClankerUniv4EthDevBuy.sol#L17)

	```solidity
	    error Unauthorized();
	```

- Found in src/interfaces/external/IClankerUniv4EthDevBuy.sol [Line: 18](src/interfaces/external/IClankerUniv4EthDevBuy.sol#L18)

	```solidity
	    error InvalidEthDevBuyPercentage();
	```

- Found in src/interfaces/external/IClankerUniv4EthDevBuy.sol [Line: 19](src/interfaces/external/IClankerUniv4EthDevBuy.sol#L19)

	```solidity
	    error InvalidPairedTokenPoolKey();
	```

- Found in src/interfaces/external/IOwnerAdmins.sol [Line: 5](src/interfaces/external/IOwnerAdmins.sol#L5)

	```solidity
	    error Unauthorized();
	```

</details>



## L-9: Loop Contains `require`/`revert`

Avoid `require` / `revert` statements in a loop because a single bad item can cause the whole transaction to fail. It's better to forgive on fail and return failed elements post processing of the loop

<details><summary>12 Found Instances</summary>


- Found in src/LevrFactory_v1.sol [Line: 257](src/LevrFactory_v1.sol#L257)

	```solidity
	        for (uint256 i = 0; i < tokens.length; i++) {
	```

- Found in src/LevrFeeSplitter_v1.sol [Line: 114](src/LevrFeeSplitter_v1.sol#L114)

	```solidity
	        for (uint256 i = 0; i < _splits.length; i++) {
	```

- Found in src/LevrFeeSplitter_v1.sol [Line: 147](src/LevrFeeSplitter_v1.sol#L147)

	```solidity
	        for (uint256 i = 0; i < rewardTokens.length; i++) {
	```

- Found in src/LevrFeeSplitter_v1.sol [Line: 217](src/LevrFeeSplitter_v1.sol#L217)

	```solidity
	        for (uint256 i = 0; i < splits.length; i++) {
	```

- Found in src/LevrFeeSplitter_v1.sol [Line: 224](src/LevrFeeSplitter_v1.sol#L224)

	```solidity
	            for (uint256 j = 0; j < i; j++) {
	```

- Found in src/LevrFeeSplitter_v1.sol [Line: 262](src/LevrFeeSplitter_v1.sol#L262)

	```solidity
	        for (uint256 i = 0; i < _splits.length; i++) {
	```

- Found in src/LevrForwarder_v1.sol [Line: 44](src/LevrForwarder_v1.sol#L44)

	```solidity
	        for (uint256 i = 0; i < length; i++) {
	```

- Found in src/LevrGovernor_v1.sol [Line: 525](src/LevrGovernor_v1.sol#L525)

	```solidity
	        for (uint256 i = 0; i < proposals.length; i++) {
	```

- Found in src/LevrStaking_v1.sol [Line: 119](src/LevrStaking_v1.sol#L119)

	```solidity
	            for (uint256 i = 0; i < len; i++) {
	```

- Found in src/LevrStaking_v1.sol [Line: 196](src/LevrStaking_v1.sol#L196)

	```solidity
	        for (uint256 i = 0; i < tokens.length; i++) {
	```

- Found in src/LevrStaking_v1.sol [Line: 560](src/LevrStaking_v1.sol#L560)

	```solidity
	        for (uint256 i = 0; i < len; i++) {
	```

- Found in src/LevrStaking_v1.sol [Line: 589](src/LevrStaking_v1.sol#L589)

	```solidity
	        for (uint256 i = 0; i < len; i++) {
	```

</details>



## L-10: Uninitialized Local Variable

Initialize all the variables. If a variable is meant to be initialized to zero, explicitly set it to zero to improve code readability.

<details><summary>1 Found Instances</summary>


- Found in src/LevrFactory_v1.sol [Line: 95](src/LevrFactory_v1.sol#L95)

	```solidity
	        for (uint256 i; i < _trustedClankerFactories.length; ++i) {
	```

</details>



## L-11: Storage Array Length not Cached

Calling `.length` on a storage array in a loop condition is expensive. Consider caching the length in a local variable in memory before the loop and reusing it.

<details><summary>6 Found Instances</summary>


- Found in src/LevrFactory_v1.sol [Line: 95](src/LevrFactory_v1.sol#L95)

	```solidity
	        for (uint256 i; i < _trustedClankerFactories.length; ++i) {
	```

- Found in src/LevrFeeSplitter_v1.sol [Line: 114](src/LevrFeeSplitter_v1.sol#L114)

	```solidity
	        for (uint256 i = 0; i < _splits.length; i++) {
	```

- Found in src/LevrFeeSplitter_v1.sol [Line: 162](src/LevrFeeSplitter_v1.sol#L162)

	```solidity
	        for (uint256 i = 0; i < _splits.length; i++) {
	```

- Found in src/LevrFeeSplitter_v1.sol [Line: 197](src/LevrFeeSplitter_v1.sol#L197)

	```solidity
	        for (uint256 i = 0; i < _splits.length; i++) {
	```

- Found in src/LevrFeeSplitter_v1.sol [Line: 262](src/LevrFeeSplitter_v1.sol#L262)

	```solidity
	        for (uint256 i = 0; i < _splits.length; i++) {
	```

- Found in src/LevrStaking_v1.sol [Line: 459](src/LevrStaking_v1.sol#L459)

	```solidity
	        for (uint256 i = 0; i < _rewardTokens.length; i++) {
	```

</details>



## L-12: Costly operations inside loop

Invoking `SSTORE` operations in loops may waste gas. Use a local variable to hold the loop computation result.

<details><summary>10 Found Instances</summary>


- Found in src/LevrFactory_v1.sol [Line: 230](src/LevrFactory_v1.sol#L230)

	```solidity
	        for (uint256 i = 0; i < length; i++) {
	```

- Found in src/LevrFactory_v1.sol [Line: 257](src/LevrFactory_v1.sol#L257)

	```solidity
	        for (uint256 i = 0; i < tokens.length; i++) {
	```

- Found in src/LevrFeeSplitter_v1.sol [Line: 77](src/LevrFeeSplitter_v1.sol#L77)

	```solidity
	        for (uint256 i = 0; i < splits.length; i++) {
	```

- Found in src/LevrFeeSplitter_v1.sol [Line: 147](src/LevrFeeSplitter_v1.sol#L147)

	```solidity
	        for (uint256 i = 0; i < rewardTokens.length; i++) {
	```

- Found in src/LevrStaking_v1.sol [Line: 87](src/LevrStaking_v1.sol#L87)

	```solidity
	        for (uint256 i = 0; i < initialWhitelistedTokens.length; i++) {
	```

- Found in src/LevrStaking_v1.sol [Line: 119](src/LevrStaking_v1.sol#L119)

	```solidity
	            for (uint256 i = 0; i < len; i++) {
	```

- Found in src/LevrStaking_v1.sol [Line: 196](src/LevrStaking_v1.sol#L196)

	```solidity
	        for (uint256 i = 0; i < tokens.length; i++) {
	```

- Found in src/LevrStaking_v1.sol [Line: 521](src/LevrStaking_v1.sol#L521)

	```solidity
	        for (uint256 i = 0; i < _rewardTokens.length; i++) {
	```

- Found in src/LevrStaking_v1.sol [Line: 560](src/LevrStaking_v1.sol#L560)

	```solidity
	        for (uint256 i = 0; i < len; i++) {
	```

- Found in src/LevrStaking_v1.sol [Line: 589](src/LevrStaking_v1.sol#L589)

	```solidity
	        for (uint256 i = 0; i < len; i++) {
	```

</details>



## L-13: Unused Import

Redundant import statement. Consider removing it.

<details><summary>11 Found Instances</summary>


- Found in src/LevrFactory_v1.sol [Line: 5](src/LevrFactory_v1.sol#L5)

	```solidity
	import {IERC20Metadata} from '@openzeppelin/contracts/token/ERC20/extensions/IERC20Metadata.sol';
	```

- Found in src/LevrForwarder_v1.sol [Line: 5](src/LevrForwarder_v1.sol#L5)

	```solidity
	import {ERC2771Context} from '@openzeppelin/contracts/metatx/ERC2771Context.sol';
	```

- Found in src/LevrForwarder_v1.sol [Line: 6](src/LevrForwarder_v1.sol#L6)

	```solidity
	import {Context} from '@openzeppelin/contracts/utils/Context.sol';
	```

- Found in src/LevrGovernor_v1.sol [Line: 12](src/LevrGovernor_v1.sol#L12)

	```solidity
	import {ILevrStakedToken_v1} from './interfaces/ILevrStakedToken_v1.sol';
	```

- Found in src/base/ERC2771ContextBase.sol [Line: 5](src/base/ERC2771ContextBase.sol#L5)

	```solidity
	import {Context} from '@openzeppelin/contracts/utils/Context.sol';
	```

- Found in src/interfaces/external/IClankerFeeLocker.sol [Line: 4](src/interfaces/external/IClankerFeeLocker.sol#L4)

	```solidity
	import {PoolKey} from '@uniswapV4-core/types/PoolKey.sol';
	```

- Found in src/interfaces/external/IClankerHook.sol [Line: 4](src/interfaces/external/IClankerHook.sol#L4)

	```solidity
	import {IClanker} from './IClanker.sol';
	```

- Found in src/interfaces/external/IClankerHookV2PoolExtension.sol [Line: 4](src/interfaces/external/IClankerHookV2PoolExtension.sol#L4)

	```solidity
	import {IClanker} from './IClanker.sol';
	```

- Found in src/interfaces/external/IClankerLpLockerFeeConversion.sol [Line: 4](src/interfaces/external/IClankerLpLockerFeeConversion.sol#L4)

	```solidity
	import {IClankerLpLocker} from './IClankerLPLocker.sol';
	```

- Found in src/interfaces/external/IClankerLpLockerMultiple.sol [Line: 5](src/interfaces/external/IClankerLpLockerMultiple.sol#L5)

	```solidity
	import {PoolKey} from '@uniswapV4-core/types/PoolKey.sol';
	```

- Found in src/interfaces/external/IClankerMevModule.sol [Line: 4](src/interfaces/external/IClankerMevModule.sol#L4)

	```solidity
	import {IClanker} from './IClanker.sol';
	```

</details>



## L-14: State Change Without Event

There are state variable changes in this function but no event is emitted. Consider emitting an event to enable offchain indexers to track the changes.

<details><summary>5 Found Instances</summary>


- Found in src/LevrForwarder_v1.sol [Line: 25](src/LevrForwarder_v1.sol#L25)

	```solidity
	    function executeMulticall(
	```

- Found in src/LevrForwarder_v1.sol [Line: 92](src/LevrForwarder_v1.sol#L92)

	```solidity
	    function withdrawTrappedETH() external nonReentrant {
	```

- Found in src/LevrStaking_v1.sol [Line: 50](src/LevrStaking_v1.sol#L50)

	```solidity
	    function initialize(
	```

- Found in src/LevrTreasury_v1.sol [Line: 43](src/LevrTreasury_v1.sol#L43)

	```solidity
	    function transfer(
	```

- Found in src/LevrTreasury_v1.sol [Line: 53](src/LevrTreasury_v1.sol#L53)

	```solidity
	    function applyBoost(address token, uint256 amount) external nonReentrant onlyGovernor {
	```

</details>



